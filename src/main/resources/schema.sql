CREATE TABLE clients (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    surname VARCHAR(255) NOT NULL,
    country VARCHAR(255)
);

CREATE TABLE balances (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    client_id BIGINT NOT NULL,
    total DECIMAL(15,2) NOT NULL,
    currency VARCHAR(10) NOT NULL,
    date DATE NOT NULL,
    CONSTRAINT fk_balance_client FOREIGN KEY (client_id) REFERENCES clients(id) ON DELETE CASCADE
);

CREATE TABLE transactions (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    client_id BIGINT NOT NULL,
    type VARCHAR(50) NOT NULL,
    description VARCHAR(255) NOT NULL,
    date DATE NOT NULL,
    "value" DECIMAL(15,2) NOT NULL,
    currency VARCHAR(10) NOT NULL,
    CONSTRAINT fk_transaction_client FOREIGN KEY (client_id) REFERENCES clients(id) ON DELETE CASCADE
);
